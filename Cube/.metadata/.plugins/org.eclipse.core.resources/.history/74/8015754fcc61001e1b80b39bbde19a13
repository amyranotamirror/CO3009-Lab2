/*
 * software_timer.c
 *
 *  Created on: Oct 3, 2023
 *      Author: Amyra Nguyen
 */


#include "software_timer.h"
void init_software_timer(){
	for(uint16_t index = 0; index < NUM_TIMER; index++)
		set_timer(index);
	enable_led_seg[0] = (GPIO_config){EN_A_GPIO_Port, EN_A_Pin};
	enable_led_seg[1] = (GPIO_config){EN_B_GPIO_Port, EN_B_Pin};
}
void set_timer(int timer_index){
	timer_counter[timer_index] = timer_limit[timer_index];
	timer_flag[timer_index] = 0;
}
void run_timer(){
	for(uint16_t index = 0; index < NUM_TIMER; index++){
		if(timer_counter[index] > 0){
			timer_counter[index]--;
			if(timer_counter[index] <= 0){
				timer_flag[index] = 1;
			}
		}
	}
}
